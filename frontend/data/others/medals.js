(() => {
	const GAME_KEYS = ["black2", "white2"];

	// local wrapper (binds to helpers.js global)
	// keep this consistent with how you do fashionItem(...)
	const medalItem = (gameKey, sectionId, imageId) => _medal(sectionId, imageId);

	const SECTIONS = [
		{ id: "special", label: "Special Medals" },
		{ id: "adventure", label: "Adventure Medals" },
		{ id: "battle", label: "Battle Medals" },
		{ id: "entertainment", label: "Entertainment Medals" },
		{ id: "challenge", label: "Challenge Medals" },
	];

	// Authoring format (like fashion):
	// - item.id can stay numeric or sluggy (your choice)
	// - mapItem will compute stable slug ids + img paths from NAME
	const ITEMS_BY_SECTION = {
		"special": [
			{ id: 1, num: 1, name: "First Step" },
			{ id: 2, num: 2, name: "Participation Prize" },
			{ id: 3, num: 3, name: "Rookie Medalist" },
			{ id: 4, num: 4, name: "Elite Medalist" },
			{ id: 5, num: 5, name: "Master Medalist" },
			{ id: 6, num: 6, name: "Legend Medalist" },
			{ id: 7, num: 7, name: "Top Medalist" },
		],
		"adventure": [
			{ id: 1, num: 8, name: "Light Walker" },
			{ id: 2, num: 9, name: "Middle Walker" },
			{ id: 3, num: 10, name: "Heavy Walker" },
			{ id: 4, num: 11, name: "Honored Footprints" },
			{ id: 5, num: 12, name: "Step-by-Step Saver" },
			{ id: 6, num: 13, name: "Busy Saver" },
			{ id: 7, num: 14, name: "Experienced Saver" },
			{ id: 8, num: 15, name: "Wonder Writer" },
			{ id: 9, num: 16, name: "Pokemon Center Fan" },
			{ id: 10, num: 17, name: "Signboard Starter" },
			{ id: 11, num: 18, name: "Signboard Savvy" },
			{ id: 12, num: 19, name: "Graffiti Gazer" },
			{ id: 13, num: 20, name: "Starter Cycling" },
			{ id: 14, num: 21, name: "Easy Cycling" },
			{ id: 15, num: 22, name: "Hard Cycling" },
			{ id: 16, num: 23, name: "Pedaling Legend" },
			{ id: 17, num: 24, name: "Old Rod Fisherman" },
			{ id: 18, num: 25, name: "Good Rod Fisherman" },
			{ id: 19, num: 26, name: "Super Rod Fisherman" },
			{ id: 20, num: 27, name: "Mighty Fisher" },
			{ id: 21, num: 28, name: "Normal-type Catcher" },
			{ id: 22, num: 29, name: "Fire-type Catcher" },
			{ id: 23, num: 30, name: "Water-type Catcher" },
			{ id: 24, num: 31, name: "Electric-type Catcher" },
			{ id: 25, num: 32, name: "Grass-type Catcher" },
			{ id: 26, num: 33, name: "Ice-type Catcher" },
			{ id: 27, num: 34, name: "Fighting-type Catcher" },
			{ id: 28, num: 35, name: "Poison-type Catcher" },
			{ id: 29, num: 36, name: "Ground-type Catcher" },
			{ id: 30, num: 37, name: "Flying-type Catcher" },
			{ id: 31, num: 38, name: "Psychic-type Catcher" },
			{ id: 32, num: 39, name: "Bug-type Catcher" },
			{ id: 33, num: 40, name: "Rock-type Catcher" },
			{ id: 34, num: 41, name: "Ghost-type Catcher" },
			{ id: 35, num: 42, name: "Dragon-type Catcher" },
			{ id: 36, num: 43, name: "Dark-type Catcher" },
			{ id: 37, num: 44, name: "Steel-type Catcher" },
			{ id: 38, num: 45, name: "Unova Catcher" },
			{ id: 39, num: 46, name: "National Catcher" },
			{ id: 40, num: 47, name: "30 Boxed" },
			{ id: 41, num: 48, name: "120 Boxed" },
			{ id: 42, num: 49, name: "360 Boxed" },
			{ id: 43, num: 50, name: "Boxes Max" },
			{ id: 44, num: 51, name: "Capturing Spree" },
			{ id: 45, num: 52, name: "Vending Virtuoso" },
			{ id: 46, num: 53, name: "Lucky Drink" },
			{ id: 47, num: 54, name: "Evolution Hopeful" },
			{ id: 48, num: 55, name: "Evolution Tech" },
			{ id: 49, num: 56, name: "Evolution Expert" },
			{ id: 50, num: 57, name: "Evolution Authority" },
			{ id: 51, num: 58, name: "Ace Pilot" },
			{ id: 52, num: 59, name: "Hustle Muscle" },
			{ id: 53, num: 60, name: "Trash Master" },
			{ id: 54, num: 61, name: "Dowsing Beginner" },
			{ id: 55, num: 62, name: "Dowsing Specialist" },
			{ id: 56, num: 63, name: "Dowsing Collector" },
			{ id: 57, num: 64, name: "Dowsing Wizard" },
			{ id: 58, num: 65, name: "Naming Champ" },
			{ id: 59, num: 66, name: "Television Kid" },
			{ id: 60, num: 67, name: "Regular Customer" },
			{ id: 61, num: 68, name: "Moderate Customer" },
			{ id: 62, num: 69, name: "Great Customer" },
			{ id: 63, num: 70, name: "Indulgent Customer" },
			{ id: 64, num: 71, name: "Super Rich" },
			{ id: 65, num: 72, name: "Smart Shopper" },
			{ id: 66, num: 73, name: "Sweet Home" },
			{ id: 67, num: 74, name: "The First Passerby" },
			{ id: 68, num: 75, name: "30 Passersby" },
			{ id: 69, num: 76, name: "100 Passersby" },
			{ id: 70, num: 77, name: "Heavy Traffic" },
			{ id: 71, num: 78, name: "Pass Power+" },
			{ id: 72, num: 79, name: "Pass Power++" },
			{ id: 73, num: 80, name: "Pass Power+++" },
			{ id: 74, num: 81, name: "Pass Power MAX" },
			{ id: 75, num: 82, name: "Dozing Capture" },
			{ id: 76, num: 83, name: "Sleeping Capture" },
			{ id: 77, num: 84, name: "Deep Sleep Capture" },
			{ id: 78, num: 85, name: "Sweet Dreamer" },
			{ id: 79, num: 86, name: "Hidden Grotto Adept" },
			{ id: 80, num: 87, name: "Egg Beginner" },
			{ id: 81, num: 88, name: "Egg Breeder" },
			{ id: 82, num: 89, name: "Egg Elite" },
			{ id: 83, num: 90, name: "Hatching Aficionado" },
			{ id: 84, num: 91, name: "Day-Care Faithful" },
			{ id: 85, num: 92, name: "Archeology Lover" },
			{ id: 86, num: 93, name: "Pure Youth" },
			{ id: 87, num: 94, name: "Lucky Color" },
			{ id: 88, num: 95, name: "Pokerus Discoverer" },
			{ id: 89, num: 96, name: "Castelia Boss" },
			{ id: 90, num: 97, name: "Rail Enthusiast" },
			{ id: 91, num: 98, name: "Wailord Watcher" },
			{ id: 92, num: 99, name: "Face Board Memorial" },
			{ id: 93, num: 100, name: "Heavy Machinery Pro" },
			{ id: 94, num: 101, name: "Ruins Raider" },
			{ id: 95, num: 102, name: "Diamond Dust" },
			{ id: 96, num: 103, name: "Bridge Enthusiast" },
			{ id: 97, num: 104, name: "Around Unova" },
			{ id: 98, num: 105, name: "Great Adventurer" },
		],
		"battle": [
			{ id: 1, num: 106, name: "Battle Learner" },
			{ id: 2, num: 107, name: "Battle Teacher" },
			{ id: 3, num: 108, name: "Battle Veteran" },
			{ id: 4, num: 109, name: "Battle Virtuoso" },
			{ id: 5, num: 110, name: "Link Battle Amateur" },
			{ id: 6, num: 111, name: "Link Battle Pioneer" },
			{ id: 7, num: 112, name: "Link Battle Expert" },
			{ id: 8, num: 113, name: "Born to Battle" },
			{ id: 9, num: 114, name: "Magikarp Award" },
			{ id: 10, num: 115, name: "Never Give Up" },
			{ id: 11, num: 116, name: "Noneffective Artist" },
			{ id: 12, num: 117, name: "Supereffective Savant" },
			{ id: 13, num: 118, name: "Subway Low Gear" },
			{ id: 14, num: 119, name: "Subway Accelerator" },
			{ id: 15, num: 120, name: "Subway Top Gear" },
			{ id: 16, num: 121, name: "Runaway Express" },
			{ id: 17, num: 122, name: "Single Express" },
			{ id: 18, num: 123, name: "Double Express" },
			{ id: 19, num: 124, name: "Multi Express" },
			{ id: 20, num: 125, name: "Test Novice" },
			{ id: 21, num: 126, name: "Test Fan" },
			{ id: 22, num: 127, name: "Test Enthusiast" },
			{ id: 23, num: 128, name: "Exam Genius" },
			{ id: 24, num: 129, name: "Exp. Millionaire" },
			{ id: 25, num: 130, name: "BP Wealthy" },
			{ id: 26, num: 131, name: "Superb Locator" },
			{ id: 27, num: 132, name: "Battle Repeater" },
			{ id: 28, num: 133, name: "Cruise Connoisseur" },
			{ id: 29, num: 134, name: "Driftveil Mightiest" },
			{ id: 30, num: 135, name: "Rental Champ" },
			{ id: 31, num: 136, name: "Mix Champ" },
			{ id: 32, num: 137, name: "Unova Mightiest" },
			{ id: 33, num: 138, name: "Kanto Mightiest" },
			{ id: 34, num: 139, name: "Johto Mightiest" },
			{ id: 35, num: 140, name: "Hoenn Mightiest" },
			{ id: 36, num: 141, name: "Sinnoh Mightiest" },
			{ id: 37, num: 142, name: "Mightiest Leader" },
			{ id: 38, num: 143, name: "World's Mightiest" },
			{ id: 39, num: 144, name: "Rental Master" },
			{ id: 40, num: 145, name: "Mix Master" },
			{ id: 41, num: 146, name: "All Types Champ" },
			{ id: 42, num: 147, name: "Tower Junior" },
			{ id: 43, num: 148, name: "Tower Master" },
			{ id: 44, num: 149, name: "Treehollow Junior" },
			{ id: 45, num: 150, name: "Treehollow Master" },
			{ id: 46, num: 151, name: "20 Victories" },
			{ id: 47, num: 152, name: "50 Victories" },
			{ id: 48, num: 153, name: "100 Victories" },
			{ id: 49, num: 154, name: "1000 Victories" },
			{ id: 50, num: 155, name: "Undefeated: Easy" },
			{ id: 51, num: 156, name: "Undefeated: Hard" },
			{ id: 52, num: 157, name: "Pinpoint: Easy" },
			{ id: 53, num: 158, name: "Pinpoint: Hard" },
			{ id: 54, num: 159, name: "Quick Clear: Easy" },
			{ id: 55, num: 160, name: "Quick Clear: Hard" },
			{ id: 56, num: 161, name: "Battle Guru" },
		],
		"entertainment": [
			{ id: 1, num: 162, name: "Beginning Trader" },
			{ id: 2, num: 163, name: "Occasional Trader" },
			{ id: 3, num: 164, name: "Frequent Trader" },
			{ id: 4, num: 165, name: "Great Trade-Up" },
			{ id: 5, num: 166, name: "Opposite Trader" },
			{ id: 6, num: 167, name: "Pen Pal" },
			{ id: 7, num: 168, name: "Talented Cast Member" },
			{ id: 8, num: 169, name: "Rising Star" },
			{ id: 9, num: 170, name: "Big Star" },
			{ id: 10, num: 171, name: "Superstar" },
			{ id: 11, num: 172, name: "Musical Star" },
			{ id: 12, num: 173, name: "10 Followers" },
			{ id: 13, num: 174, name: "First Friend" },
			{ id: 14, num: 175, name: "Broad Friendship" },
			{ id: 15, num: 176, name: "Extensive Friendship" },
			{ id: 16, num: 177, name: "Global Connection" },
			{ id: 17, num: 178, name: "Spin Trade Whiz" },
			{ id: 18, num: 179, name: "Feeling Master" },
			{ id: 19, num: 180, name: "Ace of Hearts" },
			{ id: 20, num: 181, name: "Ferris Wheel Fan" },
			{ id: 21, num: 182, name: "New Guide" },
			{ id: 22, num: 183, name: "Elite Guide" },
			{ id: 23, num: 184, name: "Veteran Guide" },
			{ id: 24, num: 185, name: "Guiding Champ" },
			{ id: 25, num: 186, name: "Shop Starter" },
			{ id: 26, num: 187, name: "Shop Builder" },
			{ id: 27, num: 188, name: "Shop Constructor" },
			{ id: 28, num: 189, name: "Extreme Developer" },
			{ id: 29, num: 190, name: "OK Souvenir Getter" },
			{ id: 30, num: 191, name: "Good Souvenir Getter" },
			{ id: 31, num: 192, name: "Great Souvenir Getter" },
			{ id: 32, num: 193, name: "Tycoon of Souvenirs" },
			{ id: 33, num: 194, name: "Avenue of Fame" },
			{ id: 34, num: 195, name: "Minigame Fan" },
			{ id: 35, num: 196, name: "Minigame Buff" },
			{ id: 36, num: 197, name: "Minigame Expert" },
			{ id: 37, num: 198, name: "Best Minigamer" },
			{ id: 38, num: 199, name: "Balloon Rookie" },
			{ id: 39, num: 200, name: "Balloon Technician" },
			{ id: 40, num: 201, name: "Balloon Expert" },
			{ id: 41, num: 202, name: "Balloon Expert" },
			{ id: 42, num: 203, name: "Balloon Conqueror" },
			{ id: 43, num: 204, name: "New Face Hero" },
			{ id: 44, num: 205, name: "Hero Movie Star" },
			{ id: 45, num: 206, name: "Cop Movie Master" },
			{ id: 46, num: 207, name: "UFO Movie Master" },
			{ id: 47, num: 208, name: "Monster Movie Master" },
			{ id: 48, num: 209, name: "Sci-Fi Movie Master" },
			{ id: 49, num: 210, name: "Romantic Movie Star" },
			{ id: 50, num: 211, name: "Fantasy Movie Master" },
			{ id: 51, num: 212, name: "Comedic Movie Star" },
			{ id: 52, num: 213, name: "Horror Movie Star" },
			{ id: 53, num: 214, name: "Robot Movie Master" },
			{ id: 54, num: 215, name: "Ghost Movie Master" },
			{ id: 55, num: 216, name: "Hero Ending" },
			{ id: 56, num: 217, name: "Popular Movie Star" },
			{ id: 57, num: 218, name: "Blockbuster Star" },
			{ id: 58, num: 219, name: "Masterpiece Star" },
			{ id: 59, num: 220, name: "First Cult Classic" },
			{ id: 60, num: 221, name: "Cult Classic Star" },
			{ id: 61, num: 222, name: "10 People Funfest" },
			{ id: 62, num: 223, name: "30 People Funfest" },
			{ id: 63, num: 224, name: "Scored 100" },
			{ id: 64, num: 225, name: "Scored 1000" },
			{ id: 65, num: 226, name: "Mission Host Lv 1" },
			{ id: 66, num: 227, name: "Mission Host Lv 2" },
			{ id: 67, num: 228, name: "Participant Lv 1" },
			{ id: 68, num: 229, name: "Participant Lv 2" },
			{ id: 69, num: 230, name: "Achiever Lv 1" },
			{ id: 70, num: 231, name: "Achiever Lv 2" },
			{ id: 71, num: 232, name: "Funfest Complete" },
			{ id: 72, num: 233, name: "Good Night" },
			{ id: 73, num: 234, name: "Beginning of Memory" },
			{ id: 74, num: 235, name: "Memory Master" },
			{ id: 75, num: 236, name: "Entertainment Master" },
		],
		"challenge": [
			{ id: 1, num: 237, name: "Normal-type Champ" },
			{ id: 2, num: 238, name: "Fire-type Champ" },
			{ id: 3, num: 239, name: "Water-type Champ" },
			{ id: 4, num: 240, name: "Electric-type Champ" },
			{ id: 5, num: 241, name: "Grass-type Champ" },
			{ id: 6, num: 242, name: "Ice-type Champ" },
			{ id: 7, num: 243, name: "Fighting-type Champ" },
			{ id: 8, num: 244, name: "Poison-type Champ" },
			{ id: 9, num: 245, name: "Ground-type Champ" },
			{ id: 10, num: 246, name: "Flying-type Champ" },
			{ id: 11, num: 247, name: "Psychic-type Champ" },
			{ id: 12, num: 248, name: "Bug-type Champ" },
			{ id: 13, num: 249, name: "Rock-type Champ" },
			{ id: 14, num: 250, name: "Ghost-type Champ" },
			{ id: 15, num: 251, name: "Dragon-type Champ" },
			{ id: 16, num: 252, name: "Dark-type Champ" },
			{ id: 17, num: 253, name: "Steel-type Champ" },
			{ id: 18, num: 254, name: "One and Only" },
			{ id: 19, num: 255, name: "Supreme Challenger" },
		]
	};

	function slugify(s) {
		return String(s || "")
			.trim()
			.toLowerCase()
			.replace(/\s*\/\s*/g, "-")
			.replace(/\s+/g, "-")
			.replace(/[^a-z0-9\-\+]/g, "")
			.replace(/\-+/g, "-");
	}

	function mapItem(sectionId, item) {
		const out = { ...item };

		// âœ… build image ids from NAME slugs (like fashion does)
		const slug = (s) => (window._medalSlug ? window._medalSlug(s) : slugify(s));
		const nameSlug = slug(out.name);

		// stable internal id: name slug (recommended)
		out.id = out.idSlug ?? nameSlug;

		// img: ({ gameKey }) => medalItem(gameKey, sectionId, imageId)
		const mkImg = (id) => ({ gameKey }) => medalItem(gameKey, sectionId, id);
		out.img = out.img ?? mkImg(nameSlug);

		return out;
	}

	function buildMedalsFor(gameKey) {
		return {
			sections: SECTIONS.map((s) => ({
				id: s.id,
				label: s.label,
				items: (ITEMS_BY_SECTION[s.id] || []).map((it) => mapItem(s.id, it)),
			})),
		};
	}

	defineMedalsMany(GAME_KEYS, (gameKey) => buildMedalsFor(gameKey));
})();
