====================================================
POKÉMON SWITCH MODEL → WEB (GLB) BAKE GUIDE
Blender 3.6 LTS
====================================================

GOAL
----
Turn a Pokémon model with “spaghetti shaders” into a
web-friendly GLB that:
- keeps correct colors
- is not glossy or transparent
- looks close to in-game
- supports animations
- works in Three.js / web viewers

THIS GUIDE ASSUMES:
- Blender 3.6 LTS
- Model + animations already imported correctly
- Textures are PNGs
- You are using Cycles for baking

====================================================
IMPORTANT MENTAL RULES
====================================================

1) We NEVER export the spaghetti shader.
2) We BAKE the RESULT of the spaghetti shader.
3) We keep the original shader untouched.
4) We make a clean Principled BSDF for export.
5) Bake PER MATERIAL, not per mesh.

====================================================
INITIAL SETUP (DO ONCE)
====================================================

1) File → Import → Nintendo Switch Pokemon Assets → Pokemon Trinity Model
   Select the model file

2) Select the armature

3) File → Import → Nintendo Switch Pokemon Assets → Pokemon Animation
   Select ALL related animation files and import them

4) Render Properties (camera icon)
   Render Engine → Cycles

5) File → Save As
   Name it something like:
   chikorita_bake_working.blend or 0152.blend

6) Confirm:
   - Model looks correct in Material Preview
   - Animations still work

====================================================
MATERIAL STRATEGY
====================================================

Example (Chikorita):

body material used by:
- body
- leaf
- vines
- feelers
- mouth parts

eye materials:
- l_eye
- r_eye

We bake:
- Body material ONCE
- l_eye ONCE
- r_eye ONCE

====================================================
BODY MATERIAL — BASE COLOR BAKE
====================================================

STEP 1 — Select ALL meshes that use the body material
--------------------------------
- Select all relative meshes in the file viewer in the top right of Blender
- Orange outline visible
- Do NOT select armature

STEP 2 — Duplicate the material
--------------------------------
Material Properties (red sphere):
- Active material: body
- Click the copy icon (double pages) next to the name
- Rename to: body_baked

STEP 3 — Open Shader Editor
--------------------------------
Workspace → Shading
Confirm material name = body_baked

STEP 4 — Create bake image
--------------------------------
Shader Editor:
- Shift + A → Texture → Image Texture
- Click New
  Name: body_basecolor_baked
  Size: 2048 x 2048
  Color: sRGB
- Do NOT connect it
- CLICK the image node (white outline required)

STEP 5 — Bake Base Color
--------------------------------
Render Properties → Bake:
- Bake Type: Diffuse
- Color: ON
- Direct: OFF
- Indirect: OFF

Confirm:
- Cycles enabled
- Body mesh selected
- body_baked active
- Image Texture node selected

Click BAKE

STEP 6 — Verify + Save
--------------------------------
Image Editor:
- You should see colored UV texture
- Image → Save As
  body_basecolor_baked.png

====================================================
BODY MATERIAL — CLEAN EXPORT SHADER
====================================================

STEP 7 — Add clean Principled BSDF
--------------------------------
Shader Editor:
- Shift + A → Shader → Principled BSDF
- Connect:
  body_basecolor_baked → Base Color
  Principled → Material Output

STEP 8 — Fix transparency
--------------------------------
Material Properties → Settings:
- Blend Mode: Opaque
- Shadow Mode: Opaque

Principled:
- Alpha = 1.0
- Nothing connected to Alpha

====================================================
BODY MATERIAL — ROUGHNESS BAKE
====================================================

STEP 9 — Create roughness bake image
--------------------------------
Shader Editor:
- Shift + A → Image Texture
- New:
  Name: body_roughness_baked
  Size: 2048 x 2048
  Color: Non-Color
- Do NOT connect
- CLICK node (white outline)

STEP 10 — Bake roughness
--------------------------------
Render Properties → Bake:
- Bake Type: Roughness

Click BAKE

STEP 11 — Save roughness
--------------------------------
Image Editor:
- Image → Save As
  body_roughness_baked.png

STEP 12 — Hook roughness up
--------------------------------
Shader Editor:
- body_roughness_baked (Color)
  → Principled Roughness
- Color Space = Non-Color
- Principled Roughness slider = 1.0

OPTIONAL FIX:
If stuff looks glossy:
- Check that you selected all related meshes

- Add Math node (Add)
- body_roughness → Math(Add 0.5) → Roughness

====================================================
BODY MATERIAL — NORMAL BAKE
====================================================

STEP 13 — Create normal bake image
--------------------------------
Shader Editor:
- Shift + A → Image Texture
- New:
  Name: body_normal_baked
  Size: 2048 x 2048
  Color: Non-Color
- Do NOT connect
- CLICK node

STEP 14 — Bake normals
--------------------------------
Render Properties → Bake:
- Bake Type: Normal
- Space: Tangent

Click BAKE

STEP 15 — Save normals
--------------------------------
Image Editor:
- Image → Save As
  body_normal_baked.png

STEP 16 — Hook normals up
--------------------------------
Shader Editor:
- Shift + A → Vector → Normal Map
- body_normal_baked → Normal Map → Principled Normal
- Image Color Space = Non-Color

====================================================
EYES (LEFT / RIGHT)
====================================================

Eyes are SIMPLE.

DO NOT:
- Bake roughness
- Bake normals

STEP E1 — Select eye mesh
--------------------------------
Select left eye mesh

STEP E2 — Duplicate material
--------------------------------
Material Properties:
- Material name dropdown → Duplicate
- Rename to:
  l_eye_Baked

STEP E3 — Bake Base Color
--------------------------------
Shader Editor:
- Image Texture → New
  Name: l_eye_basecolor_baked
  Size: 512 x 512
  Color: sRGB
- Select image node

Bake:
- Diffuse
- Color ON
- Direct OFF
- Indirect OFF

Save image:
l_eye_basecolor_baked.png

STEP E4 — Clean eye material
--------------------------------
- Image → Base Color
- Principled → Output

Material Settings:
- Blend Mode: Alpha Clip
- Shadow Mode: Alpha Clip
- Clip Threshold ~ 0.5

Repeat for r_eye.

====================================================
FINAL CLEANUP
====================================================

- Leave original spaghetti nodes unconnected (or muted)
- Keep only clean Principled connected to Output
- No transparency on body
- Eyes use Alpha Clip

====================================================
EXPORT GLB
====================================================

File → Export → glTF 2.0

Settings:
- Format: GLB
- Include Animations: ON
- Skinning: ON
- Materials: ON
- Cameras: OFF
- Lights: OFF

Save as:
model.glb

====================================================
FINAL TEST
====================================================

Open model.glb in:
https://gltf-viewer.donmccurdy.com

Confirm:
- Colors correct
- No transparency
- Animations play
- No extreme gloss

DONE.
====================================================
